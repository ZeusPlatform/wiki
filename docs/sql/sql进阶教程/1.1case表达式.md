# case表达式

## 一、sql执行顺序

(1)from
(3) join
(2) on
(4) where
(5)group by(开始使用select中的别名，后面的语句中都可以使用)
(6) avg,sum....
(7)having
(8) select
(9) distinct

(10) order by
(11) limit

## 函数

### sum

（1）sum()函数里面的参数是列名的时候，是计算列名的值的相加，而不是有值项的总数。
（2）sum(条件表达式)，如果记录满足条件表达式就加1，统计满足条件的行数

### count

（1）COUNT()函数里面的参数是列名的的时候,那么会计算有值项的次数。（NULL 不计入， 但是''值计入）
（2）COUNT(*)可以计算出行数，包括null
（3）COUNT（1）也可以计算出行数，1在这里代表一行
（4）COUNT(column)对特定的列的值具有的行数进行计算，不包含NULL值
（5）COUNT(条件表达式)，不管记录是否满足条件表达式，只要非NULL就加1

```sql
--简单CASE表达式
CASE sex  
  WHEN '1' THEN '男'  
  WHEN '2' THEN '女'
ELSE '其他' END

--搜素表达式
CASE WHEN sex = '1' THEN '男'
     WHEN sex = '2' THEN '女'
ELSE '其他' END
```

注意事项

1. 各分支返回数据类型一致
2. END
3. 不要省略ELSE
