## 安装wsl2
1. 管理员PowerShell运行:  
`Enable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform`
2. 然后PowerShell管理员运行:  
`wsl --set-default-version 2`   #设置默认为wsl2  
`wsl --set-version Debian 2`设置某个发行版为wsl2  
`wsl --list --verbose`查看使用的wsl版本 (`wsl -l -v`)
3. 修改wsl挂载目录
```
sudo mkdir /c
sudo mount --bind /mnt/c /c
sudo mkdir /d
sudo mount --bind /mnt/d /d
或者
sudo vim /etc/wsl.conf

# Now make it look like this and save the file when you're done:
[automount]
root = /
options = "metadata"
```

参考链接:
* https://nickymeuleman.netlify.com/blog/linux-on-windows-wsl2-zsh-docker
* https://nickjanetakis.com/blog/setting-up-docker-for-windows-and-wsl-to-work-flawlessly


## 安装wsl1
管理员权限运行powershell并运行下面的命令：  
`Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux`


其他：`winver` 查看windows 版本

## linux用户
### 启用 root 用户
输入以下命令，为 root 用户设置密码：  
`sudo passwd root`
### 创建新的管理员用户
1. 创建新用户，命令中 username 替换成你想用的用户名：  
` sudo adduser username`
2. `sudo vim /etc/sudoers`
3. 修改文件
```text
# User privilege specification
root ALL=(ALL) ALL
newUsername ALL=(ALL) ALL
```
4. 输入 :wq 保存退出，刚才新建的用户就拥有了root权限。

### 升级wsl packages
```
sudo apt update
sudo apt upgrade
```

### node-gyp
`sudo apt install build-essential`

### git
`sudo apt install git`
#### git config
```
git config --global user.name "your.name"
git config --global user.email "your.email@example.com"
```
#### git version
`git --version`
#### update
```
sudo add-apt-repository ppa:git-core/ppa
sudo apt-get update
sudo apt-get install git
```
#### git文件差异导致文件 unstaged changes（100755 100644）
`git config core.filemode false`

#### git flow
`sudo apt-get install git-flow`

#### git cz
```
npm install -g commitizen
npm install -g cz-conventional-changelog
echo '{ "path": "cz-conventional-changelog" }' > ~/.czrc
```
使用`git cz` 替代 `git commit`

## wsl2安装docker
1. 升级packages & 安装依赖
```
sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common
```
2. docker 官方 GPG-key
```text
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo apt-key fingerprint 0EBFCD88 # verify
```

输出 `9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88`

3. 增加docker repository到ubuntu repositories  
`sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
`

4. 更新repositories，安装docker-ce
```
sudo apt update
sudo apt install docker-ce
```
5. 手动启动(暂时没有自动启动方法)
`sudo service docker start`

## Docker Compose
1. 使用pip安装
```
# Install Python and PIP.
sudo apt-get install -y python python-pip

# Install Docker Compose into your user's home directory.
pip install --user docker-compose
```
2. `$HOME/.local/bin`设置到`~/.profile`
3. vim ~/.profile
export PATH="$PATH:$HOME/.local/bin" 添加到最后一行
4. `source ~/.profile`
5. echo $PATH 检查`~/.local/bin`是否在输出里面

## Node & NPM
### nvm
`curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash`
之后重启终端

#### 安装最新版本node
`nvm install node # "node" is an alias for the latest version`

`nvm use node`

#### 管理registry
```
npm install -g nrm
nrm add <name> http://your.url.com
nrm use <name>
```

## ssh
### ssh key
```
ssh-keygen -t rsa -C "your.email@example.com" -b 4096
cat ~/.ssh/id_rsa.pub
```